{% extends 'cliente/base.html' %}
{% load static %}

{% block title %}Artistas - ArtStore{% endblock %}

{% block content %}
<div class="artistas-container">
    <!-- Encabezado -->
    <div class="artistas-header">
        <h2><i class="fas fa-users"></i> Nuestros Artistas</h2>
        <p class="descripcion-seccion">
            Conoce a los talentosos artistas que crean las obras únicas que encuentras en ArtStore.
            Cada uno tiene un estilo único y una historia que contar a través de su arte.
        </p>
    </div>

    <!-- Lista de artistas -->
    {% if artistas %}
    <div class="artistas-grid">
        {% for artista in artistas %}
        <div class="artista-card">
            <!-- Imagen del artista -->
            <div class="artista-imagen">
                {% if artista.foto %}
                <img src="{{ artista.foto.url }}" alt="{{ artista.nombre }}">
                {% else %}
                <div class="artista-sin-foto">
                    <i class="fas fa-user-circle fa-4x"></i>
                </div>
                {% endif %}
                
                {% if artista.activo %}
                <div class="artista-status activo">
                    <i class="fas fa-circle"></i> Activo
                </div>
                {% endif %}
            </div>

            <!-- Información del artista -->
            <div class="artista-info">
                <h3 class="artista-nombre">{{ artista.nombre }}</h3>
                
                <div class="artista-especialidad">
                    <i class="fas fa-paint-brush"></i>
                    <span>{{ artista.especialidad }}</span>
                </div>
                
                <p class="artista-biografia">
                    {{ artista.biografia|truncatechars:150 }}
                </p>
                
                <div class="artista-estadisticas">
                    <div class="estadistica">
                        <i class="fas fa-palette"></i>
                        <span>{{ artista.producto_set.count }} obras</span>
                    </div>
                    <div class="estadistica">
                        <i class="fas fa-star"></i>
                        <span>4.5/5</span>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="artista-acciones">
                    <a href="{% url 'detalle_artista' artista.id %}" class="btn-ver-perfil">
                        <i class="fas fa-eye"></i> Ver perfil completo
                    </a>
                    
                    <a href="{% url 'productos_por_categoria' 'obras' %}?artista={{ artista.id }}" class="btn-ver-obras">
                        <i class="fas fa-paint-brush"></i> Ver obras
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <!-- Filtros (opcional) -->
    <div class="artistas-filtros">
        <div class="filtro-group">
            <label for="filtro-especialidad">Filtrar por especialidad:</label>
            <select id="filtro-especialidad" class="filtro-select">
                <option value="todos">Todas las especialidades</option>
                <option value="abstracto">Arte Abstracto</option>
                <option value="realista">Realismo</option>
                <option value="paisaje">Paisajes</option>
                <option value="retrato">Retratos</option>
                <option value="contemporaneo">Arte Contemporáneo</option>
            </select>
        </div>
        
        <div class="contador-artistas">
            <span id="contador-artistas">{{ artistas|length }}</span> artistas encontrados
        </div>
    </div>
    
    {% else %}
    <div class="no-artistas">
        <div class="no-artistas-icon">
            <i class="fas fa-user-slash fa-4x"></i>
        </div>
        <h3>No hay artistas disponibles</h3>
        <p>Actualmente no tenemos artistas registrados en nuestra plataforma.</p>
    </div>
    {% endif %}

    <!-- Información adicional -->
    <div class="info-artistas">
        <div class="info-card">
            <div class="info-icon">
                <i class="fas fa-handshake"></i>
            </div>
            <h4>¿Eres artista?</h4>
            <p>Únete a nuestra comunidad y exhibe tus obras en ArtStore. Ofrecemos una plataforma para que tu arte llegue a más personas.</p>
            <button class="btn-contactar" onclick="contactarArtista()">
                <i class="fas fa-envelope"></i> Contáctanos
            </button>
        </div>
        
        <div class="info-card">
            <div class="info-icon">
                <i class="fas fa-award"></i>
            </div>
            <h4>Calidad garantizada</h4>
            <p>Todos nuestros artistas pasan por un proceso de selección para garantizar la calidad de las obras que ofrecemos.</p>
        </div>
        
        <div class="info-card">
            <div class="info-icon">
                <i class="fas fa-heart"></i>
            </div>
            <h4>Arte con propósito</h4>
            <p>Apoyamos a artistas locales y fomentamos el desarrollo de la cultura artística en nuestra comunidad.</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Filtro de artistas por especialidad
document.addEventListener('DOMContentLoaded', function() {
    const filtroEspecialidad = document.getElementById('filtro-especialidad');
    const artistas = document.querySelectorAll('.artista-card');
    const contador = document.getElementById('contador-artistas');
    
    if (filtroEspecialidad) {
        filtroEspecialidad.addEventListener('change', function() {
            const filtro = this.value.toLowerCase();
            let visibles = 0;
            
            artistas.forEach(artista => {
                const especialidad = artista.querySelector('.artista-especialidad span').textContent.toLowerCase();
                let mostrar = true;
                
                if (filtro !== 'todos' && !especialidad.includes(filtro)) {
                    mostrar = false;
                }
                
                artista.style.display = mostrar ? '' : 'none';
                if (mostrar) visibles++;
            });
            
            contador.textContent = visibles;
        });
    }
    
    // Efecto hover en tarjetas de artista
    artistas.forEach(artista => {
        artista.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.15)';
        });
        
        artista.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 4px 10px rgba(0,0,0,0.1)';
        });
    });
});

// Función para contactar (simulada)
function contactarArtista() {
    alert('Para unirte como artista, por favor envía un email a artistas@artstore.com con tu portafolio y una breve descripción de tu trabajo.');
}
</script>
{% endblock %}